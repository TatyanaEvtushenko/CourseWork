<nav role="navigation">
    <div class="nav-wrapper container">
        <a data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
        <ul class="hide-on-med-and-down row">
            <li class="col m4 left">
                <a id="logo-container" href="/" class="brand-logo">Course work</a>
            </li>
            <li class="col m4 center-align">
                <searcher></searcher>
            </li>
            <li class="col m4 right-align" *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a id="dropdown-nav-button" materialize="dropdown" class='dropdown-button right-align' href='#' data-activates='dropdown-nav'>
                    <span class="user-min-info">
                        <img class="circle responsive-img" src="{{storage.currentUser.avatar}}">
                        <span>{{storage.currentUser.userName}}<i class="material-icons right">arrow_drop_down</i></span>
                    </span>
                </a>
            </li>
            <li class="right" *ngIf="storage.isReadyCurrentUser && !storage.isUser">
                <a *ngIf="storage.isReadyCurrentUser && !storage.isUser" href="#registrationModal" class="modal-trigger">Register</a>
            </li>
            <li class="right" *ngIf="storage.isReadyCurrentUser && !storage.isUser">
                <a href="#loginModal" class="modal-trigger">Log in</a>
            </li>
        </ul>

        <ul id='dropdown-nav' class='dropdown-content'>
            <li *ngIf="storage.isReadyCurrentUser && storage.isAdmin">
                <a href="/AdminPage"><i class="material-icons left">group</i> Admin page</a>
            </li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isAdmin" class="divider"></li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a href="/UserPage"><i class="material-icons left">home</i> My page</a>
            </li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a href="/UserPage"><i class="material-icons left">collections</i> My projects</a>
            </li>
            <li class="divider"></li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a (click)="logout()"><i class="material-icons left">directions_run</i> Log out</a>
            </li>
        </ul>

        <ul class="side-nav" id="mobile-demo">
            <li><searcher></searcher></li>
            <li *ngIf="storage.isReadyCurrentUser && !storage.isUser">
                <a *ngIf="storage.isReadyCurrentUser && !storage.isUser" href="#registrationModal" class="modal-trigger">Register</a>
            </li>
            <li *ngIf="storage.isReadyCurrentUser && !storage.isUser">
                <a href="#loginModal" class="modal-trigger">Log in</a>
            </li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isAdmin">
                <a href="/AdminPage"><i class="material-icons left">group</i> Admin page</a>
            </li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isAdmin" class="divider"></li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a href="/UserPage"><i class="material-icons left">home</i> My page</a>
            </li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a href="/UserPage"><i class="material-icons left">collections</i> My projects</a>
            </li>
            <li class="divider"></li>
            <li *ngIf="storage.isReadyCurrentUser && storage.isUser">
                <a (click)="logout()"><i class="material-icons left">directions_run</i> Log out</a>
            </li>
        </ul>
    </div>
</nav>

<!--<div class="container body-content">
</div>-->
<router-outlet></router-outlet>
<floatingbutton></floatingbutton>

<footer class="page-footer">
    <div class="container">
        <div class="row">
            <div class="col l6 s12">
                <h5 class="white-text">Footer Content</h5>
                <languageselector></languageselector>
                <colorselector></colorselector>
            </div>
            <div class="col l4 offset-l2 s12">
                <h5 class="white-text">Links</h5>
                <ul>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            &copy; 2017 - CourseWork
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
        </div>
    </div>
</footer>
    
<div *ngIf="storage.isReadyCurrentUser && !storage.isUser">
    <registermodal></registermodal>
    <loginmodal></loginmodal>
</div>
